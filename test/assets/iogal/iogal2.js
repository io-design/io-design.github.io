"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),IoGal=function(){function e(t){var i=this;_classCallCheck(this,e),this.el=document.querySelector(t.el),this.btnPrev=document.querySelector(t.el+" .io-prev"),this.btnNext=document.querySelector(t.el+" .io-next"),this.images=document.querySelectorAll(t.el+" .io-items > *"),this.animateQueque=!0,this.activeImage=0,Object.defineProperties(this,{image:{get:function(){return this.images[this.activeImage]}}});for(var n=1;n<this.images.length;n++)this.images[n].style.display="none";this.btnNext&&(this.btnNext.onclick=function(){i.goNext()}),this.btnPrev&&(this.btnPrev.onclick=function(){i.goPrev()}),this.swipe=t.swipe||!1,this.swipe&&(this.xDown=null,this.yDown=null,this.elToSwipe=document.querySelector(t.swipeSelector)||document.querySelector(t.el+" .io-items"),this.elToSwipe.addEventListener("touchstart",function(e){i.xDown=e.touches[0].clientX,i.yDown=e.touches[0].clientY}),this.elToSwipe.addEventListener("touchmove",function(e){i.handleTouchMove(e)}))}return _createClass(e,[{key:"setActiveImage",value:function(e){"next"==e?(this.activeImage++,this.activeImage>=this.images.length&&(this.activeImage=0)):"prev"==e?(this.activeImage--,this.activeImage<0&&(this.activeImage=this.images.length-1)):this.activeImage=e}},{key:"hide",value:function(e){var t=this;return new Promise(function(i){function n(){this.style.display="none",this.classList.remove(e+"-leave"),this.classList.remove(e+"-leave-active"),this.removeEventListener("transitionend",n),i()}t.image.classList.add(e+"-leave"),t.image.classList.add(e+"-leave-active"),t.image.addEventListener("transitionend",n)})}},{key:"show",value:function(e){var t=this;return new Promise(function(i){t.image.classList.add(e+"-enter"),t.image.classList.add(e+"-enter-active"),t.image.style.display="block",t.raf(function(){function n(){this.classList.remove(e+"-enter-active"),this.removeEventListener("transitionend",n),i()}t.image.classList.remove(e+"-enter"),t.image.addEventListener("transitionend",n)})})}},{key:"raf",value:function(e){window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){e()})})}},{key:"goNext",value:function(){var e=this;this.animateQueque&&(this.animateQueque=!this.animateQueque,this.hide("next").then(function(t){return e.setActiveImage("next")}).then(function(t){return e.show("next")}).then(function(t){return e.animateQueque=!e.animateQueque}))}},{key:"goPrev",value:function(){var e=this;this.animateQueque&&(this.animateQueque=!this.animateQueque,this.hide("prev").then(function(t){return e.setActiveImage("prev")}).then(function(t){return e.show("prev")}).then(function(t){return e.animateQueque=!e.animateQueque}))}},{key:"goTo",value:function(e){var t=this;this.animateQueque&&(this.animateQueque=!this.animateQueque,this.hide("next").then(function(i){return t.setActiveImage(e)}).then(function(e){return t.show("next")}).then(function(e){return t.animateQueque=!t.animateQueque}))}},{key:"skipTo",value:function(e){this.image.style.display="none",this.setActiveImage(e),this.image.style.display="block"}},{key:"handleTouchMove",value:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,i=e.touches[0].clientY;this.xDiff=this.xDown-t,this.yDiff=this.yDown-i,Math.abs(this.xDiff)>Math.abs(this.yDiff)&&(this.xDiff>0?this.goNext():this.goPrev()),this.xDown=null,this.yDown=null}}}]),e}();
//# sourceMappingURL=iogal2.js.map
