{"version":3,"sources":["iogal2.js"],"names":["IoGal","settings","_this","this","_classCallCheck","el","document","querySelector","btnPrev","btnNext","images","querySelectorAll","animateQueque","activeImage","Object","defineProperties","image","get","length","i","style","display","onclick","goNext","goPrev","swipe","xDown","yDown","elToSwipe","swipeSelector","addEventListener","e","touches","clientX","clientY","val","handleTouchMove","prevOrNext","_this2","Promise","resolve","handler","classList","remove","add","_this3","raf","removeEventListener","fn","window","requestAnimationFrame","_this4","hide","then","result","_this5","show","_this6","setActiveImage","xUp","yUp","xDiff","yDiff","Math","abs"],"mappings":"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","file":"iogal2.js","sourcesContent":["class IoGal {\r\n  constructor(settings) {\r\n    //iogal constructor\r\n    this.el = document.querySelector(settings.el);\r\n    this.btnPrev = document.querySelector(`${settings.el} .io-prev`);\r\n    this.btnNext = document.querySelector(`${settings.el} .io-next`);\r\n    this.images = document.querySelectorAll(`${settings.el} .io-items > *`);\r\n    this.animateQueque = true;\r\n    this.activeImage = 0;\r\n\r\n    Object.defineProperties(this, {\r\n      image: {\r\n        get() {\r\n          return this.images[this.activeImage];\r\n        }\r\n      } \r\n    }); \r\n\r\n    for(let i = 1; i < this.images.length; i++){this.images[i].style.display = 'none'};\r\n    if(this.btnNext){this.btnNext.onclick = () => { this.goNext() };}\r\n    if(this.btnPrev){this.btnPrev.onclick = () => { this.goPrev() };}\r\n\r\n\r\n    //swipe constructor\r\n    this.swipe = settings.swipe || false;\r\n    if(this.swipe) {\r\n      this.xDown = null;\r\n      this.yDown = null;\r\n      this.elToSwipe = document.querySelector(settings.swipeSelector) || document.querySelector(`${settings.el} .io-items`);\r\n\r\n      this.elToSwipe.addEventListener('touchstart', (e) => {\r\n        this.xDown = e.touches[0].clientX;\r\n        this.yDown = e.touches[0].clientY;\r\n      }); \r\n   \r\n      this.elToSwipe.addEventListener('touchmove', (e) => {\r\n        this.handleTouchMove(e);\r\n      });  \r\n    }\r\n  }\r\n  //iogal methods\r\n  setActiveImage(val) {\r\n    if (val == 'next') {\r\n      this.activeImage++;\r\n      if(this.activeImage >= this.images.length) {\r\n        this.activeImage = 0;\r\n      }\r\n    }\r\n    else if (val == 'prev') {\r\n      this.activeImage--;\r\n      if(this.activeImage < 0) {\r\n        this.activeImage = this.images.length - 1;\r\n      }\r\n    }\r\n    else {\r\n      this.activeImage = val;\r\n    }\r\n  }\r\n\r\n  hide(prevOrNext) {\r\n    return new Promise(resolve => {\r\n      function handler() {\r\n        this.style.display = 'none';\r\n        this.classList.remove(`${prevOrNext}-leave`);\r\n        this.classList.remove(`${prevOrNext}-leave-active`);\r\n        this.removeEventListener('transitionend', handler);\r\n        resolve();\r\n      }\r\n       \r\n      this.image.classList.add(`${prevOrNext}-leave`);\r\n      this.image.classList.add(`${prevOrNext}-leave-active`);\r\n      this.image.addEventListener('transitionend', handler);\r\n    })\r\n  }\r\n\r\n  show(prevOrNext) {\r\n    return new Promise(resolve => {\r\n      this.image.classList.add(`${prevOrNext}-enter`);\r\n      this.image.classList.add(`${prevOrNext}-enter-active`);\r\n      this.image.style.display = 'block';\r\n      this.raf(() => {\r\n        function handler() {\r\n          this.classList.remove(`${prevOrNext}-enter-active`);\r\n          this.removeEventListener('transitionend', handler);\r\n          resolve(); \r\n        }\r\n\r\n        this.image.classList.remove(`${prevOrNext}-enter`);\r\n        this.image.addEventListener('transitionend', handler);\r\n      })\r\n    })\r\n  }  \r\n\r\n  raf(fn) {\r\n    window.requestAnimationFrame(function() {\r\n      window.requestAnimationFrame(function() {\r\n        fn();\r\n      })\r\n    })\r\n  }\r\n\r\n  goNext() {\r\n    if (this.animateQueque) {\r\n      this.animateQueque = !this.animateQueque;\r\n      this.hide('next')\r\n        .then(result => this.setActiveImage('next'))\r\n        .then(result => this.show('next'))\r\n        .then(result => this.animateQueque = !this.animateQueque);\r\n    } \r\n  }\r\n\r\n  goPrev() {\r\n    if (this.animateQueque) {\r\n      this.animateQueque = !this.animateQueque;\r\n      this.hide('prev')\r\n        .then(result => this.setActiveImage('prev'))\r\n        .then(result => this.show('prev'))\r\n        .then(result => this.animateQueque = !this.animateQueque);\r\n    } \r\n  }\r\n\r\n  goTo(val) {\r\n    if (this.animateQueque) {\r\n      this.animateQueque = !this.animateQueque;\r\n      this.hide('next')\r\n        .then(result => this.setActiveImage(val))\r\n        .then(result => this.show('next'))\r\n        .then(result => this.animateQueque = !this.animateQueque);\r\n    } \r\n  } \r\n\r\n  skipTo(val) {\r\n    this.image.style.display = 'none';\r\n    this.setActiveImage(val);\r\n    this.image.style.display= 'block';\r\n  } \r\n  //swipe method\r\n  handleTouchMove(e) {\r\n    if ( ! this.xDown || !this.yDown ) {\r\n        return;\r\n    }\r\n\r\n    let xUp = e.touches[0].clientX;\r\n    let yUp = e.touches[0].clientY;\r\n\r\n    this.xDiff = this.xDown - xUp;\r\n    this.yDiff = this.yDown - yUp;\r\n\r\n    if ( Math.abs( this.xDiff ) > Math.abs( this.yDiff ) ) {\r\n      if ( this.xDiff > 0 ) {\r\n        this.goNext();\r\n      } else {\r\n        this.goPrev();\r\n      }\r\n    }\r\n\r\n    this.xDown = null;\r\n    this.yDown = null;\r\n  }\r\n\r\n}"]}