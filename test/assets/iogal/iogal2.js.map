{"version":3,"sources":["iogal2.js"],"names":["IoGal","settings","_this2","this","_classCallCheck","el","document","querySelector","btnPrev","btnNext","images","querySelectorAll","animateQueque","activeImage","Object","defineProperties","image","get","length","i","style","display","onclick","goNext","goPrev","swipe","xDown","yDown","elToSwipe","addEventListener","e","touches","clientX","clientY","val","handleTouchMove","prevOrNext","_this3","Promise","resolve","handler","classList","remove","_this","add","_this4","raf","removeEventListener","fn","window","requestAnimationFrame","_this5","hide","then","result","_this6","setActiveImage","show","_this7","xUp","yUp","xDiff","yDiff","Math","abs"],"mappings":"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","file":"iogal2.js","sourcesContent":["class IoGal {\r\n  constructor(settings) {\r\n    //iogal constructor\r\n    this.el = document.querySelector(settings.el);\r\n    this.btnPrev = document.querySelector(`${settings.el} .io-prev`);\r\n    this.btnNext = document.querySelector(`${settings.el} .io-next`);\r\n    this.images = document.querySelectorAll(`${settings.el} .io-items > *`);\r\n    this.animateQueque = true;\r\n    this.activeImage = 0;\r\n\r\n    Object.defineProperties(this, {\r\n      image: {\r\n        get() {\r\n          return this.images[this.activeImage];\r\n        }\r\n      } \r\n    }); \r\n\r\n    for(let i = 1; i < this.images.length; i++){this.images[i].style.display = 'none'};\r\n    if(this.btnNext){this.btnNext.onclick = () => { this.goNext() };}\r\n    if(this.btnPrev){this.btnPrev.onclick = () => { this.goPrev() };}\r\n\r\n\r\n    //swipe constructor\r\n    this.swipe = settings.swipe || false;\r\n    if(this.swipe) {\r\n      this.xDown = null;\r\n      this.yDown = null;\r\n      this.elToSwipe = document.querySelector(`${settings.el} .io-items`);\r\n\r\n      this.elToSwipe.addEventListener('touchstart', (e) => {\r\n        this.xDown = e.touches[0].clientX;\r\n        this.yDown = e.touches[0].clientY;\r\n      }); \r\n   \r\n      this.elToSwipe.addEventListener('touchmove', (e) => {\r\n        this.handleTouchMove(e);\r\n      });  \r\n    }\r\n  }\r\n  //iogal methods\r\n  setActiveImage(val) {\r\n    if (val == 'next') {\r\n      this.activeImage++;\r\n      if(this.activeImage >= this.images.length) {\r\n        this.activeImage = 0;\r\n      }\r\n    }\r\n    else if (val == 'prev') {\r\n      this.activeImage--;\r\n      if(this.activeImage < 0) {\r\n        this.activeImage = this.images.length - 1;\r\n      }\r\n    }\r\n    else {\r\n      this.activeImage = val;\r\n    }\r\n  }\r\n\r\n  hide(prevOrNext) {\r\n    return new Promise(resolve => {\r\n      function handler() {\r\n        this.style.display = 'none';\r\n        this.classList.remove(`${prevOrNext}-leave`);\r\n        this.classList.remove(`${prevOrNext}-leave-active`);\r\n        this.removeEventListener('transitionend', handler);\r\n        _this.raf(() => {resolve()});\r\n      }\r\n       \r\n      this.image.classList.add(`${prevOrNext}-leave`);\r\n      this.image.classList.add(`${prevOrNext}-leave-active`);\r\n      let _this = this;\r\n      this.image.addEventListener('transitionend', handler);\r\n    })\r\n  }\r\n\r\n  show(prevOrNext) {\r\n    return new Promise(resolve => {\r\n      this.image.classList.add(`${prevOrNext}-enter`);\r\n      this.image.classList.add(`${prevOrNext}-enter-active`);\r\n      this.image.style.display = 'block';\r\n      this.raf(() => {\r\n        function handler() {\r\n          this.classList.remove(`${prevOrNext}-enter-active`);\r\n          this.removeEventListener('transitionend', handler);\r\n          _this.raf(() => {resolve()});\r\n        }\r\n\r\n        this.image.classList.remove(`${prevOrNext}-enter`);\r\n        let _this = this;\r\n        this.image.addEventListener('transitionend', handler);\r\n      })\r\n    })\r\n  } \r\n\r\n  raf(fn) {\r\n    window.requestAnimationFrame(function() {\r\n      window.requestAnimationFrame(function() {\r\n        fn();\r\n      })\r\n    })\r\n  }\r\n\r\n  goNext() {\r\n    if (this.animateQueque) {\r\n      this.animateQueque = !this.animateQueque;\r\n      this.hide('next')\r\n        .then(result => this.setActiveImage('next'))\r\n        .then(result => this.show('next'))\r\n        .then(result => this.animateQueque = !this.animateQueque);\r\n    } \r\n  }\r\n\r\n  goPrev() {\r\n    if (this.animateQueque) {\r\n      this.animateQueque = !this.animateQueque;\r\n      this.hide('prev')\r\n        .then(result => this.setActiveImage('prev'))\r\n        .then(result => this.show('prev'))\r\n        .then(result => this.animateQueque = !this.animateQueque);\r\n    } \r\n  }\r\n\r\n  goTo(val) {\r\n    if (this.animateQueque) {\r\n      this.animateQueque = !this.animateQueque;\r\n      this.hide('next')\r\n        .then(result => this.setActiveImage(val))\r\n        .then(result => this.show('next'))\r\n        .then(result => this.animateQueque = !this.animateQueque);\r\n    } \r\n  } \r\n\r\n  skipTo(val) {\r\n    this.image.style.display = 'none';\r\n    this.setActiveImage(val);\r\n    this.image.style.display= 'block';\r\n  } \r\n  //swipe method\r\n  handleTouchMove(e) {\r\n    if ( !this.xDown || ! this.yDown ) {\r\n        return;\r\n    }\r\n\r\n    let xUp = e.touches[0].clientX;\r\n    let yUp = e.touches[0].clientY;\r\n\r\n    this.xDiff = this.xDown - xUp;\r\n    this.yDiff = this.yDown - yUp;\r\n\r\n    if ( Math.abs( this.xDiff ) > Math.abs( this.yDiff ) ) {\r\n      if ( this.xDiff > 0 ) {\r\n        this.goNext();\r\n      } else {\r\n        this.goPrev();\r\n      }\r\n    }\r\n\r\n    this.xDown = null;\r\n    this.yDown = null;\r\n  }\r\n\r\n}"]}